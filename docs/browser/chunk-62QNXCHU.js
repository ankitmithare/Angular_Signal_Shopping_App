import{a as v,b as y}from"./chunk-G5BBVNWX.js";import{b as z,e as O,g as W,h as q}from"./chunk-7CGFS6EM.js";import{a as V}from"./chunk-EVW3OSRJ.js";import{a as J}from"./chunk-J56IXLSF.js";import{g as L}from"./chunk-DGZQR2MA.js";import{j as U,n as G,o as H}from"./chunk-RQONBWBS.js";import{$b as B,Ab as A,Bb as N,Ca as T,Ea as a,Fb as F,Gb as Q,Nb as j,Ob as k,Pa as m,Tb as x,X as P,ab as g,ba as b,bb as _,ca as S,cb as M,db as E,eb as p,fb as o,gb as r,hb as h,kb as D,na as w,nb as u,ob as C,vb as d,xb as s,zb as I}from"./chunk-V37LJECA.js";var f=class t{icons={Star:U};product=k.required();addToCart=j();static \u0275fac=function(i){return new(i||t)};static \u0275cmp=m({type:t,selectors:[["app-product-card"]],hostAttrs:[1,"block","bg-white","rounded-xl","shadow-md","hover:shadow-lg","transition-shadow","overflow-hidden"],inputs:{product:[1,"product"]},outputs:{addToCart:"addToCart"},decls:20,vars:10,consts:[[1,"relative","overflow-hidden","rounded-xl","bg-white"],["width","300","height","300",1,"w-full","h-48","object-contain","p-4","bg-slate-50",3,"src","alt"],[1,"absolute","top-2","left-2","px-2","py-1","text-xs","font-medium","bg-green-200","text-slate-700","rounded"],[1,"p-4","space-y-3"],[1,"font-semibold","text-slate-900","line-clamp-2","min-h-12"],[1,"flex","items-center","gap-2"],[1,"flex","items-center","gap-1","text-amber-500"],[1,"size-4","fill-current",3,"img"],[1,"text-sm","font-medium","text-slate-700"],[1,"text-xs","text-slate-500"],[1,"flex","items-center","justify-between","pt-2"],[1,"text-xl","font-bold","text-slate-900"],["appButton","","size","sm","type","button",3,"click"]],template:function(i,e){i&1&&(o(0,"div",0),h(1,"img",1),o(2,"span",2),d(3),r(),o(4,"div",3)(5,"h3",4),d(6),r(),o(7,"div",5)(8,"div",6),h(9,"lucide-icon",7),o(10,"span",8),d(11),r()(),o(12,"span",9),d(13),r()(),o(14,"div",10)(15,"span",11),d(16),F(17,"currency"),r(),o(18,"button",12),u("click",function(){return e.addToCart.emit(e.product())}),d(19," Add to Cart "),r()()()()),i&2&&(a(),p("src",e.product().image,T)("alt",e.product().title),a(2),s(" ",e.product().category," "),a(3),s(" ",e.product().title," "),a(3),p("img",e.icons.Star),a(2),s(" ",e.product().rating," "),a(2),s(" (",e.product().rating.count,") "),a(3),s(" ",Q(17,8,e.product().price)," "))},dependencies:[J,H,G,L],encapsulation:2,changeDetection:0})};var Y=(t,n)=>n.id;function Z(t,n){t&1&&(o(0,"div",4)(1,"p",6),d(2,"Loading products..."),r()())}function $(t,n){t&1&&(o(0,"div",4)(1,"p",6),d(2,"No products available."),r()())}function ee(t,n){if(t&1){let i=D();o(0,"app-product-card",8),u("addToCart",function(c){b(i);let l=C(2);return S(l.onAddToCart(c))}),r()}if(t&2){let i=n.$implicit;p("product",i)}}function te(t,n){if(t&1&&(o(0,"div",5),M(1,ee,1,1,"app-product-card",7,Y),r()),t&2){let i=C();a(),E(i.products())}}var K=class t{store=P(B);products=x(this.store.select(y.selectFilteredProducts));loading=x(this.store.select(y.selectLoading));searchQuery=w("");onSearch(n){this.store.dispatch(v.search({searchQuery:n}))}ngOnInit(){this.store.dispatch(v.load())}onAddToCart(n){this.store.dispatch(V.addToCart({product:n}))}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=m({type:t,selectors:[["app-products"]],decls:8,vars:3,consts:[[1,"py-8","max-w-6xl","mx-auto"],[1,"flex","flex-col","md:flex-row","items-start","md:items-center","justify-between","mb-8","gap-4"],[1,"text-3xl","font-bold","text-slate-900"],["type","text","placeholder","Search products...",1,"w-full","md:w-72","p-2","border","border-slate-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-slate-500","transition",3,"ngModelChange","ngModel"],[1,"flex","items-center","justify-center","h-40"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","lg:grid-cols-4","gap-6"],[1,"text-slate-500"],[3,"product"],[3,"addToCart","product"]],template:function(i,e){if(i&1&&(o(0,"div",0)(1,"div",1)(2,"h1",2),d(3," Products "),r(),o(4,"input",3),N("ngModelChange",function(l){return A(e.searchQuery,l)||(e.searchQuery=l),l}),u("ngModelChange",function(l){return e.onSearch(l)}),r()(),g(5,Z,3,0,"div",4),g(6,$,3,0,"div",4)(7,te,3,0,"div",5),r()),i&2){let c;a(4),I("ngModel",e.searchQuery),a(),_(e.loading()?5:-1),a(),_(((c=e.products())==null?null:c.length)===0&&!e.loading()?6:7)}},dependencies:[f,q,z,O,W],encapsulation:2})};export{K as Products};
