import{a as Z,b as ae}from"./chunk-G5BBVNWX.js";import"./chunk-7CGFS6EM.js";import{a as X}from"./chunk-CDCXPS4Q.js";import{a as Qt,b as A,c as Xt,d as R,f as te,g as ee}from"./chunk-XHSUNQTL.js";import{a as C}from"./chunk-EVW3OSRJ.js";import{h as Zt}from"./chunk-DGZQR2MA.js";import{a as Q,b as ce,c as le,d as F}from"./chunk-RTWJPVF5.js";import{a as tt}from"./chunk-23L6N2OM.js";import{a as m}from"./chunk-ODOB7DXC.js";import{$b as O,B as vt,C as Tt,Cb as $t,D as wt,E as xt,Ea as h,Eb as qt,H as ct,J as yt,Ka as jt,Kb as Kt,L as T,N as St,O as Et,Ob as U,Pa as J,Pb as Jt,Ra as Lt,S as g,Ub as oe,V as S,W as E,X as i,Y as K,Yb as ne,Z as It,Zb as ie,_b as re,a as b,ab as L,ba as kt,bb as B,ca as At,cb as Bt,cc as N,d as $,da as Rt,db as Ut,dc as se,eb as Gt,fb as _,gb as w,hb as k,i as Pt,j as bt,ka as Nt,kb as Wt,ma as Ft,n as v,na as I,nb as Ht,ob as M,pa as lt,r as l,rb as Vt,sb as zt,t as st,tb as Yt,ub as gt,va as Dt,vb as pt,wb as ft,x as at,y as q,z as u}from"./chunk-V37LJECA.js";var Te={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},et="__@ngrx/effects_create__";function p(t,n={}){let e=n.functional?t:t(),o=b(b({},Te),n);return Object.defineProperty(e,et,{value:o}),e}function we(t){return Object.getOwnPropertyNames(t).filter(o=>t[o]&&t[o].hasOwnProperty(et)?t[o][et].hasOwnProperty("dispatch"):!1).map(o=>{let r=t[o][et];return b({propertyName:o},r)})}function xe(t){return we(t)}function ge(t){return Object.getPrototypeOf(t)}function ye(t){return!!t.constructor&&t.constructor.name!=="Object"&&t.constructor.name!=="Function"}function pe(t){return typeof t=="function"}function Se(t){return t.filter(pe)}function Ee(t,n,e){let o=ge(t),s=!!o&&o.constructor.name!=="Object"?o.constructor.name:null,a=xe(t).map(({propertyName:c,dispatch:rt,useEffectsErrorHandler:j})=>{let H=typeof t[c]=="function"?t[c]():t[c],V=j?e(H,n):H;return rt===!1?V.pipe(Tt()):V.pipe(yt()).pipe(l(z=>({effect:t[c],notification:z,propertyName:c,sourceName:s,sourceInstance:t})))});return at(...a)}var Ie=10;function fe(t,n,e=Ie){return t.pipe(u(o=>(n&&n.handleError(o),e<=1?t:fe(t,n,e-1))))}var f=(()=>{class t extends Pt{constructor(e){super(),e&&(this.source=e)}lift(e){let o=new t;return o.source=this,o.operator=e,o}static{this.\u0275fac=function(o){return new(o||t)(E(re))}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function d(...t){return q(n=>t.some(e=>typeof e=="string"?e===n.type:e.type===n.type))}var ke=new S("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>fe}),Ae="@ngrx/effects/init",Re=oe(Ae);function Ne(t,n){if(t.notification.kind==="N"){let e=t.notification.value;!Fe(e)&&n.handleError(new Error(`Effect ${De(t)} dispatched an invalid action: ${je(e)}`))}}function Fe(t){return typeof t!="function"&&t&&t.type&&typeof t.type=="string"}function De({propertyName:t,sourceInstance:n,sourceName:e}){let o=typeof n[t]=="function";return!!e?`"${e}.${String(t)}${o?"()":""}"`:`"${String(t)}()"`}function je(t){try{return JSON.stringify(t)}catch{return t}}var Le="ngrxOnIdentifyEffects";function Be(t){return dt(t,Le)}var Ue="ngrxOnRunEffects";function Ge(t){return dt(t,Ue)}var We="ngrxOnInitEffects";function He(t){return dt(t,We)}function dt(t,n){return t&&n in t&&typeof t[n]=="function"}var de=(()=>{class t extends bt{constructor(e,o){super(),this.errorHandler=e,this.effectsErrorHandler=o}addEffects(e){this.next(e)}toActions(){return this.pipe(ct(e=>ye(e)?ge(e):e),st(e=>e.pipe(ct(Ve))),st(e=>{let o=e.pipe(xt(s=>ze(this.errorHandler,this.effectsErrorHandler)(s)),l(s=>(Ne(s,this.errorHandler),s.notification)),q(s=>s.kind==="N"&&s.value!=null),wt()),r=e.pipe(vt(1),q(He),l(s=>s.ngrxOnInitEffects()));return at(o,r)}))}static{this.\u0275fac=function(o){return new(o||t)(E(Nt),E(ke))}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Ve(t){return Be(t)?t.ngrxOnIdentifyEffects():""}function ze(t,n){return e=>{let o=Ee(e,t,n);return Ge(e)?e.ngrxOnRunEffects(o):o}}var Ye=(()=>{class t{get isStarted(){return!!this.effectsSubscription}constructor(e,o){this.effectSources=e,this.store=o,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}static{this.\u0275fac=function(o){return new(o||t)(E(de),E(O))}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function D(...t){let n=t.flat(),e=Se(n);return K([e,It(()=>{i(ne),i(ie,{optional:!0});let o=i(Ye),r=i(de),s=!o.isStarted;s&&o.start();for(let a of n){let c=pe(a)?i(a):a;r.addEffects(c)}s&&i(O).dispatch(Re())})])}var mt={};$(mt,{productEffect:()=>$e});var ot=class t{API_URL=i(x);http=i(A);getProducts(){return this.http.get(`${this.API_URL}/products`)}static \u0275fac=function(e){return new(e||t)};static \u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})};var $e=p((t=i(f),n=i(ot))=>t.pipe(d(Z.load),T(()=>n.getProducts().pipe(l(e=>Z.loadSuccess({products:e})),u(e=>v(Z.loadFailure({error:e.message})))))),{functional:!0});var ut={};$(ut,{ProfileEffects:()=>qe});var nt=class t{apiUrl=i(x);http=i(A);getUserProfile(n){return this.http.get(`${this.apiUrl}/users/${n}`)}static \u0275fac=function(e){return new(e||t)};static \u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})};var qe=p((t=i(f),n=i(nt))=>t.pipe(d(Q.load),T(({userId:e})=>n.getUserProfile(e).pipe(l(o=>Q.loadSuccess({profile:o})),u(o=>v(Q.loadFailure({error:o.message})))))),{functional:!0});var ht={};$(ht,{addToCartEffect:()=>Je,loadCartEffect:()=>Ke,persistCartEffect:()=>Ze});var me="ngrxstore_cart",Ke=p((t=i(f),n=i(F))=>t.pipe(d(C.load),l(()=>{let e=n.getItem(me),o=e?JSON.parse(e):[];return C.loadSuccess({items:o})})),{functional:!0}),Je=p((t=i(f))=>t.pipe(d(C.addToCart),l(({product:n})=>C.addToCartSuccess({product:n}))),{functional:!0}),Ze=p((t=i(f),n=i(F),e=i(O))=>t.pipe(d(C.addToCartSuccess,C.removeFromCart,C.updateQuantity,C.clearCart),Et(e.select(X.selectItems)),St(([,o])=>{n.setItem(me,JSON.stringify(o))})),{functional:!0,dispatch:!1});var Qe=(t,n)=>({width:t,"background-color":n}),Xe=(t,n)=>n.id;function to(t,n){if(t&1&&(_(0,"div",4),k(1,"span",10),w()),t&2){let e=M().$implicit;h(),Gt("toastIcon",$t(e.type))}}function eo(t,n){if(t&1&&(_(0,"span",6),pt(1),w()),t&2){let e=M().$implicit;h(),ft(e.title)}}function oo(t,n){if(t&1){let e=Wt();_(0,"button",11),Ht("click",function(){kt(e);let r=M().$implicit,s=M();return At(s.remove(r))}),Rt(),_(1,"svg",12),k(2,"path",13),w()()}}function no(t,n){if(t&1&&k(0,"div",14),t&2){let e=M().$implicit,o=M();Yt(qt(2,Qe,o.getProgressWidth(e)+"%",o.getProgressColor(e)))}}function io(t,n){if(t&1&&(_(0,"div",2)(1,"div",3),L(2,to,2,2,"div",4),_(3,"div",5),L(4,eo,2,1,"span",6),_(5,"span",7),pt(6),w()()(),L(7,oo,3,0,"button",8),L(8,no,1,5,"div",9),w()),t&2){let e=n.$implicit,o=M();gt(e.type),zt("toast-enter",!o.isLeaving(e.id))("toast-leave",o.isLeaving(e.id)),h(2),B(e.showIcon?2:-1),h(2),B(e.title&&e.title!==""?4:-1),h(2),ft(e.message),h(),B(e.dismissible?7:-1),h(),B(e.showProgress?8:-1)}}var _t=class{constructor(n,e,o,r=3e3,s=!0,a=!0,c=!0){this.message=n,this.type=e,this.title=o,this.duration=r,this.showProgress=s,this.dismissible=a,this.showIcon=c,this.id=Date.now()+Math.random(),this.createdAt=Date.now(),r===0&&(this.showProgress=!1)}},y=(function(t){return t.PRIMARY="toast-primary",t.SECONDARY="toast-secondary",t.SUCCESS="toast-success",t.INFO="toast-info",t.WARNING="toast-warning",t.DANGER="toast-danger",t})(y||{}),ue={duration:3e3,position:"bottom-right",maxToasts:5,width:350,showProgress:!0,dismissible:!0,showIcon:!0,enableAnimations:!0},Ct=new S("NG_TOAST_CONFIG",{providedIn:"root",factory:()=>ue}),P=(()=>{class t{#t;#e;constructor(){this.config=i(Ct),this.toastMessages=I([]),this.#t=this.config.duration??3e3,this.#e=this.config.maxToasts??5}getConfig(){return this.config}toast(e,o,r,s,a,c,rt){let j=s??this.#t,H=a??this.config.showProgress??!0,V=c??this.config.dismissible??!0,Ot=rt??this.config.showIcon??!0,z=new _t(e,o,r,j,H,V,Ot);this.toastMessages.update(Pe=>{let Y=[...Pe,z];return Y.length>this.#e?Y.slice(Y.length-this.#e):Y}),j>0&&setTimeout(()=>{this.removeWithAnimation(z.id)},j)}success(e,o,r,s,a,c){this.toast(e,y.SUCCESS,o,r,s,a,c)}info(e,o,r,s,a,c){this.toast(e,y.INFO,o,r,s,a,c)}warning(e,o,r,s,a,c){this.toast(e,y.WARNING,o,r,s,a,c)}danger(e,o,r,s,a,c){this.toast(e,y.DANGER,o,r,s,a,c)}primary(e,o,r,s,a,c){this.toast(e,y.PRIMARY,o,r,s,a,c)}secondary(e,o,r,s,a,c){this.toast(e,y.SECONDARY,o,r,s,a,c)}setBeforeRemoveCallback(e){this.beforeRemoveCallback=e}removeToast(e){this.toastMessages.update(o=>o.filter(r=>r.id!==e))}removeWithAnimation(e){this.beforeRemoveCallback?this.beforeRemoveCallback(e):this.removeToast(e)}clearAll(){this.toastMessages.set([])}updateProgress(){this.toastMessages.update(e=>[...e])}setMaxToasts(e){if(e>0){this.#e=e;let o=this.toastMessages();o.length>e&&this.toastMessages.set(o.slice(o.length-e))}}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ro={TOP_LEFT:"toaster-top-left",TOP_CENTER:"toaster-top-center",TOP_RIGHT:"toaster-top-right",BOTTOM_LEFT:"toaster-bottom-left",BOTTOM_CENTER:"toaster-bottom-center",BOTTOM_RIGHT:"toaster-bottom-right"};var so=(()=>{class t{constructor(){this.type=U.required({alias:"toastIcon"}),this.#t=i(Dt)}#t;ngOnInit(){this.setIcon()}setIcon(){let e;switch(this.type()){case"toast-success":e=`
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
            <polyline points="22 4 12 14.01 9 11.01"></polyline>
          </svg>`;break;case"toast-danger":e=`
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"></circle>
            <line x1="15" y1="9" x2="9" y2="15"></line>
            <line x1="9" y1="9" x2="15" y2="15"></line>
          </svg>`;break;case"toast-info":e=`
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"></circle>
            <line x1="12" y1="16" x2="12" y2="12"></line>
            <line x1="12" y1="8" x2="12.01" y2="8"></line>
          </svg>`;break;case"toast-warning":e=`
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>
            <line x1="12" y1="9" x2="12" y2="13"></line>
            <line x1="12" y1="17" x2="12.01" y2="17"></line>
          </svg>`;break;case"toast-primary":e=`
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
            <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
          </svg>`;break;case"toast-secondary":e=`
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"></circle>
            <path d="M8 14s1.5 2 4 2 4-2 4-2"></path>
            <line x1="9" y1="9" x2="9.01" y2="9"></line>
            <line x1="15" y1="9" x2="15.01" y2="9"></line>
          </svg>`;break;default:e=`
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"></circle>
            <line x1="12" y1="8" x2="12" y2="12"></line>
            <line x1="12" y1="16" x2="12.01" y2="16"></line>
          </svg>`}this.#t.nativeElement.innerHTML=e}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275dir=Lt({type:t,selectors:[["","toastIcon",""]],inputs:{type:[1,"toastIcon","type"]}})}}return t})(),he=(()=>{class t{isLeaving(e){return this.leavingToasts().has(e)}constructor(e){this.toastService=e,this.config=i(Ct),this.position=U(this.config.position??ro.BOTTOM_RIGHT),this.width=U(this.config.width??350),this.minWidth=U(this.config.minWidth),this.progressInterval=I(null),this.leavingToasts=I(new Set),this.messages=Kt(()=>this.toastService.toastMessages()),this.toastService.setBeforeRemoveCallback(o=>{this.triggerLeaveAnimation(o)}),lt(()=>{this.position()}),lt(()=>{let o=this.messages();if(o.length===0||!o.some(r=>r.showProgress)){this.clearProgressInterval();return}if(this.progressInterval()===null){let r=window.setInterval(()=>{this.toastService.updateProgress()},100);this.progressInterval.set(r)}})}ngOnInit(){}getProgressWidth(e){if(e.duration<=0)return 0;let o=Date.now()-e.createdAt;return Math.max(0,e.duration-o)/e.duration*100}getProgressColor(e){return{"toast-primary":"#4f46e5","toast-secondary":"#475569","toast-success":"#10b981","toast-info":"#06b6d4","toast-warning":"#f59e0b","toast-danger":"#ef4444"}[e.type]||"rgba(0, 0, 0, 0.2)"}clearProgressInterval(){let e=this.progressInterval();e!==null&&(window.clearInterval(e),this.progressInterval.set(null))}triggerLeaveAnimation(e){this.leavingToasts.update(o=>new Set(o).add(e)),setTimeout(()=>{this.toastService.removeToast(e),this.leavingToasts.update(o=>{let r=new Set(o);return r.delete(e),r})},400)}remove(e){e.dismissible&&this.triggerLeaveAnimation(e.id)}ngOnDestroy(){this.clearProgressInterval()}static{this.\u0275fac=function(o){return new(o||t)(jt(P))}}static{this.\u0275cmp=J({type:t,selectors:[["ng-toast"]],inputs:{position:[1,"position"],width:[1,"width"],minWidth:[1,"minWidth"]},decls:3,vars:6,consts:[[1,"toaster"],[1,"toast-message",3,"toast-enter","toast-leave","class"],[1,"toast-message"],[1,"flex-start-center","gap-3"],[1,"toast-icon-wrapper"],[1,"flex-col"],[1,"msg-title"],[1,"msg-summary"],["aria-label","Close toast",1,"cross-icon"],[1,"toast-progress",3,"style"],[1,"toast-icon",3,"toastIcon"],["aria-label","Close toast",1,"cross-icon",3,"click"],["width","14","height","14","viewBox","0 0 14 14","fill","none","aria-hidden","true"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"],[1,"toast-progress"]],template:function(o,r){o&1&&(_(0,"div",0),Bt(1,io,9,11,"div",1,Xe),w()),o&2&&(gt(r.position()),Vt("max-width",r.width(),"px")("min-width",r.minWidth(),"px"),h(),Ut(r.messages()))},dependencies:[Zt,so],styles:["@keyframes _ngcontent-%COMP%_toastEnter{0%{opacity:0;transform:scale(.3) translateY(-20px)}50%{opacity:1;transform:scale(1.05) translateY(5px)}70%{transform:scale(.95) translateY(-2px)}to{opacity:1;transform:scale(1) translateY(0)}}@keyframes _ngcontent-%COMP%_toastLeave{0%{opacity:1;transform:scale(1) translateY(0)}30%{transform:scale(1.05) translateY(-5px)}to{opacity:0;transform:scale(.7) translateY(10px)}}.toaster[_ngcontent-%COMP%]{position:fixed;z-index:9999;min-width:280px;max-width:360px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif}.toaster[_ngcontent-%COMP%]   .toast-message[_ngcontent-%COMP%]{padding:.75rem 1rem;margin-bottom:.5rem;border-radius:8px;background:#fff;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;display:flex;justify-content:space-between;align-items:flex-start;word-break:break-word;transition:all .3s ease;border:1px solid rgba(0,0,0,.1);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);position:relative;overflow:hidden}.toaster[_ngcontent-%COMP%]   .toast-message.toast-enter[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_toastEnter .5s cubic-bezier(.68,-.55,.265,1.55) forwards}.toaster[_ngcontent-%COMP%]   .toast-message.toast-leave[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_toastLeave .4s cubic-bezier(.68,-.55,.265,1.55) forwards}.toaster[_ngcontent-%COMP%]   .toast-message[_ngcontent-%COMP%]:hover{box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;transform:translateY(-2px)}.toaster[_ngcontent-%COMP%]   .toast-message.toast-primary[_ngcontent-%COMP%]{border-left:6px solid #4338ca;background-color:#eef2ff;box-shadow:0 4px 12px #4338ca26}.toaster[_ngcontent-%COMP%]   .toast-message.toast-primary[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{color:#4338ca}.toaster[_ngcontent-%COMP%]   .toast-message.toast-primary[_ngcontent-%COMP%]   .toast-title[_ngcontent-%COMP%]{color:#4338ca;font-weight:600}.toaster[_ngcontent-%COMP%]   .toast-message.toast-primary[_ngcontent-%COMP%]   .toast-content[_ngcontent-%COMP%]{color:#111827}.toaster[_ngcontent-%COMP%]   .toast-message.toast-secondary[_ngcontent-%COMP%]{border-left:6px solid #374151;background-color:#f1f5f9;box-shadow:0 4px 12px #37415126}.toaster[_ngcontent-%COMP%]   .toast-message.toast-secondary[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{color:#374151}.toaster[_ngcontent-%COMP%]   .toast-message.toast-secondary[_ngcontent-%COMP%]   .toast-title[_ngcontent-%COMP%]{color:#374151;font-weight:600}.toaster[_ngcontent-%COMP%]   .toast-message.toast-secondary[_ngcontent-%COMP%]   .toast-content[_ngcontent-%COMP%]{color:#111827}.toaster[_ngcontent-%COMP%]   .toast-message.toast-success[_ngcontent-%COMP%]{border-left:6px solid #047857;background-color:#ecfdf5;box-shadow:0 4px 12px #04785726}.toaster[_ngcontent-%COMP%]   .toast-message.toast-success[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{color:#047857}.toaster[_ngcontent-%COMP%]   .toast-message.toast-success[_ngcontent-%COMP%]   .toast-title[_ngcontent-%COMP%]{color:#047857;font-weight:600}.toaster[_ngcontent-%COMP%]   .toast-message.toast-success[_ngcontent-%COMP%]   .toast-content[_ngcontent-%COMP%]{color:#111827}.toaster[_ngcontent-%COMP%]   .toast-message.toast-info[_ngcontent-%COMP%]{border-left:6px solid #0369a1;background-color:#ecfeff;box-shadow:0 4px 12px #0369a126}.toaster[_ngcontent-%COMP%]   .toast-message.toast-info[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{color:#0369a1}.toaster[_ngcontent-%COMP%]   .toast-message.toast-info[_ngcontent-%COMP%]   .toast-title[_ngcontent-%COMP%]{color:#0369a1;font-weight:600}.toaster[_ngcontent-%COMP%]   .toast-message.toast-info[_ngcontent-%COMP%]   .toast-content[_ngcontent-%COMP%]{color:#111827}.toaster[_ngcontent-%COMP%]   .toast-message.toast-warning[_ngcontent-%COMP%]{border-left:6px solid #b45309;background-color:#fffbeb;box-shadow:0 4px 12px #b4530926}.toaster[_ngcontent-%COMP%]   .toast-message.toast-warning[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{color:#b45309}.toaster[_ngcontent-%COMP%]   .toast-message.toast-warning[_ngcontent-%COMP%]   .toast-title[_ngcontent-%COMP%]{color:#b45309;font-weight:600}.toaster[_ngcontent-%COMP%]   .toast-message.toast-warning[_ngcontent-%COMP%]   .toast-content[_ngcontent-%COMP%]{color:#111827}.toaster[_ngcontent-%COMP%]   .toast-message.toast-danger[_ngcontent-%COMP%]{border-left:6px solid #b91c1c;background-color:#fef2f2;box-shadow:0 4px 12px #b91c1c26}.toaster[_ngcontent-%COMP%]   .toast-message.toast-danger[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{color:#b91c1c}.toaster[_ngcontent-%COMP%]   .toast-message.toast-danger[_ngcontent-%COMP%]   .toast-title[_ngcontent-%COMP%]{color:#b91c1c;font-weight:600}.toaster[_ngcontent-%COMP%]   .toast-message.toast-danger[_ngcontent-%COMP%]   .toast-content[_ngcontent-%COMP%]{color:#111827}.toaster[_ngcontent-%COMP%]   .toast-message[_ngcontent-%COMP%]   .msg-title[_ngcontent-%COMP%]{font-size:.875rem;color:#111827;font-weight:600;margin-bottom:.25rem;line-height:1.3;letter-spacing:-.01em}.toaster[_ngcontent-%COMP%]   .toast-message[_ngcontent-%COMP%]   .msg-summary[_ngcontent-%COMP%]{font-size:.8125rem;color:#111827;font-weight:400;line-height:1.4;letter-spacing:0}.toaster[_ngcontent-%COMP%]   .toast-message[_ngcontent-%COMP%]   .cross-icon[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;color:#111827;cursor:pointer;padding:4px;margin:-4px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .3s ease;opacity:.7;flex-shrink:0}.toaster[_ngcontent-%COMP%]   .toast-message[_ngcontent-%COMP%]   .cross-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:16px;height:16px}.toaster[_ngcontent-%COMP%]   .toast-message[_ngcontent-%COMP%]   .cross-icon[_ngcontent-%COMP%]:hover{opacity:1;background-color:#0000001a}.toaster.toaster-top-left[_ngcontent-%COMP%]{margin:1rem;top:0;left:0}.toaster.toaster-top-center[_ngcontent-%COMP%]{margin-top:1rem;top:0;left:50%;transform:translate(-50%)}.toaster.toaster-top-right[_ngcontent-%COMP%]{margin:1rem;top:0;right:0}.toaster.toaster-bottom-left[_ngcontent-%COMP%]{margin:1rem;bottom:0;left:0}.toaster.toaster-bottom-center[_ngcontent-%COMP%]{margin-bottom:1rem;bottom:0;left:50%;transform:translate(-50%)}.toaster.toaster-bottom-right[_ngcontent-%COMP%]{margin:1rem;bottom:0;right:0}@media (max-width: 480px){.toaster[_ngcontent-%COMP%]{min-width:calc(100vw - 2rem);max-width:calc(100vw - 2rem);margin:.5rem}.toaster[_ngcontent-%COMP%]   .toast-message[_ngcontent-%COMP%]{padding:.625rem .75rem;margin-bottom:.5rem}}.flex-start-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start}.flex-col[_ngcontent-%COMP%]{display:flex;flex-direction:column}.gap-3[_ngcontent-%COMP%]{gap:.625rem}.toast-icon-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-shrink:0}.toast-icon-wrapper[_ngcontent-%COMP%]   .toast-icon[_ngcontent-%COMP%]{width:20px;height:20px;font-size:.875rem}.toast-progress[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;height:4px;background-color:currentColor;opacity:.3;border-radius:0 0 0 8px;transition:width linear}.toast-primary[_ngcontent-%COMP%]   .toast-progress[_ngcontent-%COMP%]{background-color:#4338ca}.toast-secondary[_ngcontent-%COMP%]   .toast-progress[_ngcontent-%COMP%]{background-color:#374151}.toast-success[_ngcontent-%COMP%]   .toast-progress[_ngcontent-%COMP%]{background-color:#047857}.toast-info[_ngcontent-%COMP%]   .toast-progress[_ngcontent-%COMP%]{background-color:#0369a1}.toast-warning[_ngcontent-%COMP%]   .toast-progress[_ngcontent-%COMP%]{background-color:#b45309}.toast-danger[_ngcontent-%COMP%]   .toast-progress[_ngcontent-%COMP%]{background-color:#b91c1c}@media (max-width: 576px){.toaster[_ngcontent-%COMP%]{min-width:calc(100% - 1.5rem);max-width:calc(100% - 1.5rem)}.toaster.toaster-top-left[_ngcontent-%COMP%], .toaster.toaster-top-right[_ngcontent-%COMP%], .toaster.toaster-bottom-left[_ngcontent-%COMP%], .toaster.toaster-bottom-right[_ngcontent-%COMP%]{left:0;right:0;margin-left:.75rem;margin-right:.75rem;transform:none}.toaster.toaster-top-center[_ngcontent-%COMP%], .toaster.toaster-bottom-center[_ngcontent-%COMP%]{width:calc(100% - 1.5rem)}.toaster[_ngcontent-%COMP%]   .toast-message[_ngcontent-%COMP%]{padding:.625rem .75rem}}@media (min-width: 577px) and (max-width: 768px){.toaster[_ngcontent-%COMP%]{min-width:320px;max-width:380px}}"],changeDetection:0})}}return t})();function _e(t){return K([{provide:Ct,useValue:b(b({},ue),t)},P])}var Ce=()=>{let t=i(O),n=i(R),e=i(P);return t.select(tt.selectIsAuthencited).pipe(l(o=>o?!0:(e.info("Please Login to continue","INFO"),n.createUrlTree(["/login"]))))};var Me=[{path:"",pathMatch:"full",redirectTo:"products"},{path:"login",loadComponent:()=>import("./chunk-JJKNMAX2.js").then(t=>t.Login)},{path:"register",loadComponent:()=>import("./chunk-UB7BH3GB.js").then(t=>t.Register)},{path:"",loadComponent:()=>import("./chunk-7HDKSDUE.js").then(t=>t.MainLayout),canActivate:[Ce],providers:[N(X),D(ht)],children:[{path:"products",loadComponent:()=>import("./chunk-56RSX5GQ.js").then(t=>t.Products),providers:[N(ae),D(mt)]},{path:"cart",loadComponent:()=>import("./chunk-PLLY2IWV.js").then(t=>t.Cart)},{path:"profile",loadComponent:()=>import("./chunk-5OFIDOAN.js").then(t=>t.Profile),providers:[N(ce),D(ut)]}]},{path:"**",redirectTo:"login"}];var Mt={};$(Mt,{loginEffect:()=>ao,logoutEffect:()=>lo,registerEffect:()=>co});var W=class t{baseApiUrl=i(x);http=i(A);login(n){let e=`${this.baseApiUrl}/auth/login`;return this.http.post(e,n)}register(n){let e=`${this.baseApiUrl}/users`;return this.http.post(e,n)}static \u0275fac=function(e){return new(e||t)};static \u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})};var ao=p((t=i(f),n=i(W),e=i(R),o=i(F),r=i(P))=>t.pipe(d(m.login),T(s=>n.login(s).pipe(l(a=>{e.navigateByUrl("/products"),r.success("Login Successful","SUCCESS"),o.setItem("ngrxstore_token",a.token);let c=le(a.token);return c?m.loginSuccess({token:a.token,userId:c.sub}):m.loginSuccess({token:a.token,userId:null})}),u(a=>(r.danger("Login Failed","ERROR"),v(m.loginFailure({error:a.message}))))))),{functional:!0}),co=p((t=i(f),n=i(W),e=i(R),o=i(P))=>t.pipe(d(m.register),T(r=>n.register(r).pipe(l(()=>(e.navigateByUrl("/login"),o.success("Registration Successful","SUCCESS"),m.registerSuccess())),u(s=>(o.danger("Registration Failed","ERROR"),v(m.registerFailure({error:s.message}))))))),{functional:!0}),lo=p((t=i(f),n=i(F),e=i(R),o=i(P))=>t.pipe(d(m.logout),l(()=>(n.removeItem("ngrxstore_token"),e.navigateByUrl("/login"),o.success("Logout Successful","SUCCESS"),m.logoutsuccess()))),{functional:!0});var x=new S("API_URL"),Oe={providers:[Ft(),Jt({eventCoalescing:!0}),te(Me,ee()),se(),D(Mt),N(tt),{provide:x,useValue:"https://fakestoreapi.com"},_e({duration:2e3,position:"toaster-top-right",minWidth:250})]};var it=class t{title=I("lecture5");static \u0275fac=function(e){return new(e||t)};static \u0275cmp=J({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(e,o){e&1&&k(0,"router-outlet")(1,"ng-toast")},dependencies:[Xt,he],encapsulation:2})};Qt(it,Oe).catch(t=>console.error(t));
