import{a as C}from"./chunk-CDCXPS4Q.js";import{e as j}from"./chunk-BYYUG5AU.js";import{a as b}from"./chunk-EVW3OSRJ.js";import{a as M}from"./chunk-J56IXLSF.js";import{f as F}from"./chunk-K5FJUBWW.js";import{e as z,g as P,h as $,k as Q,n as U,o as q}from"./chunk-RQONBWBS.js";import{$b as L,Ca as w,Ea as o,Fb as v,Gb as y,Pa as E,Tb as g,X as S,ab as k,ba as x,bb as T,ca as _,cb as V,db as I,eb as s,fb as e,gb as i,hb as p,kb as h,nb as f,ob as d,vb as n,wb as m,xb as B}from"./chunk-V37LJECA.js";var D=(r,a)=>a.product.id;function R(r,a){r&1&&(e(0,"div",2)(1,"p",5),n(2,"Loading Cart ...."),i()())}function N(r,a){if(r&1){let t=h();e(0,"div",7),p(1,"img",20),e(2,"div",21)(3,"h3",22),n(4),i(),e(5,"p",23),n(6),i(),e(7,"p",24),n(8),v(9,"currency"),i()(),e(10,"div",25)(11,"button",26),f("click",function(){let l=x(t).$implicit,u=d(2);return _(u.onRemove(l.product.id))}),p(12,"lucide-icon",27),i(),e(13,"div",28)(14,"button",29),f("click",function(){let l=x(t).$implicit,u=d(2);return _(u.onUpdateQuantity(l.product.id,l.quantity-1))}),p(15,"lucide-icon",30),i(),e(16,"span",31),n(17),i(),e(18,"button",29),f("click",function(){let l=x(t).$implicit,u=d(2);return _(u.onUpdateQuantity(l.product.id,l.quantity+1))}),p(19,"lucide-icon",30),i()()()()}if(r&2){let t=a.$implicit,c=d(2);o(),s("src",t.product.image,w)("alt",t.product.title),o(3),m(t.product.title),o(2),m(t.product.category),o(2),m(y(9,9,t.product.price)),o(4),s("img",c.icons.Trash2),o(3),s("img",c.icons.Minus),o(2),m(t.quantity),o(2),s("img",c.icons.Plus)}}function O(r,a){if(r&1){let t=h();e(0,"div",3)(1,"div",6),V(2,N,20,11,"div",7,D),i(),e(4,"div",8)(5,"div",9)(6,"h2",10),n(7,"Order Summary"),i(),e(8,"div",11)(9,"div",12)(10,"span",5),n(11),i(),e(12,"span",13),n(13),v(14,"currency"),i()(),e(15,"div",12)(16,"span",5),n(17,"Shipping"),i(),e(18,"span",14),n(19,"Free"),i()(),e(20,"div",15)(21,"span",16),n(22,"Total"),i(),e(23,"span",17),n(24),v(25,"currency"),i()()(),e(26,"button",18),n(27," Proceed to Checkout "),i(),e(28,"button",19),f("click",function(){x(t);let l=d();return _(l.onClearCart())}),n(29," Clear Cart "),i()()()()}if(r&2){let t=d();o(2),I(t.items()),o(9),B("Subtotal (",t.cartCount()," items)"),o(2),m(y(14,3,t.cartTotal())),o(11),m(y(25,5,t.cartTotal()))}}function Y(r,a){if(r&1&&(e(0,"div",4),p(1,"lucide-icon",32),e(2,"p",33),n(3,"Your cart is Empty"),i(),e(4,"p",34),n(5,"Looks like you have't added anything yet."),i(),e(6,"a",35),n(7,"Continue Shopping"),i()()),r&2){let t=d();o(),s("img",t.icons.ShoppingBag)}}var A=class r{icons={ShoppingBag:$,Plus:P,Minus:z,Trash2:Q};store=S(L);loading=g(this.store.select(C.selectLoading));items=g(this.store.select(C.selectItems));cartTotal=g(this.store.select(C.selectCartTotal),{initialValue:0});cartCount=g(this.store.select(C.selectCartCount),{initialValue:0});onRemove(a){this.store.dispatch(b.removeFromCart({productId:a}))}onUpdateQuantity(a,t){this.store.dispatch(b.updateQuantity({productId:a,quantity:t}))}onClearCart(){this.store.dispatch(b.clearCart())}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=E({type:r,selectors:[["app-cart"]],decls:6,vars:1,consts:[[1,"py-8","mx-w-4xl","mx-auto"],[1,"text-3xl","font-bold","text-slate-900","mb-8"],[1,"flex","items-center","justify-center","h-64"],[1,"grid","gap-6","lg:grid-cols-3"],[1,"flex","flex-col","items-center","justify-center","h-64","bg-white","rounded-xl","shadow-md"],[1,"text-slate-500"],[1,"lg:col-span-2","space-y-4"],[1,"bg-white","rounded-xl","shadow-md","p-4","flex","gap-4"],[1,"lg:col-span-1"],[1,"bg-white","rounded-xl","shadow-md","p-6","sticky","top-24"],[1,"text-lg","font-semibold","text-slate-900","mb-4"],[1,"space-y-3","text-sm"],[1,"flex","justify-between"],[1,"font-medium"],[1,"font-medium","text-green-600"],[1,"border-t","pt-3","flex","justify-between","text-base"],[1,"font-semibold"],[1,"font-bold","text-slate-900"],["appButton","",1,"w-full","mt-6"],["appButton","","variant","ghost",1,"w-full","mt-2","text-red-500","hover:text-red-600","hover:bg-red-50",3,"click"],[1,"size-24","object-contain","rounded-lg","bg-slate-50",3,"src","alt"],[1,"flex-1","min-w-0"],[1,"font-semibold","text-slate-900","line-clamp-2"],[1,"text-sm","text-slate-500","mt-1"],[1,"text-lg","font-bold","text-slate-900","mt-2"],[1,"flex","flex-col","items-end","justify-between"],["type","button",1,"p-2","text-slate-400","hover:text-red-500","transition-colors",3,"click"],[1,"size-5",3,"img"],[1,"flex","items-center","gap-2","bg-slate-100","rounded-lg","p-1"],["type","button",1,"p-1","hover:bg-slate-200","rounded","transition-colors",3,"click"],[1,"size-4",3,"img"],[1,"w-8","text-center","font-medium"],[1,"size-16","text-slate-300","mb-4",3,"img"],[1,"text-xl","font-medium","text-slate-500","mb-2"],[1,"text-slate-400","mb-6"],["appButton","","routerLink","/products"]],template:function(t,c){if(t&1&&(e(0,"div",0)(1,"h1",1),n(2,"Shopping cart"),i(),k(3,R,3,0,"div",2)(4,O,30,7,"div",3)(5,Y,8,1,"div",4),i()),t&2){let l;o(3),T(c.loading()?3:(l=c.items())!=null&&l.length?4:5)}},dependencies:[q,U,j,M,F],encapsulation:2})};export{A as Cart};
